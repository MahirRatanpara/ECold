<div class="signup-container">
  <div class="signup-card">
    <mat-card class="auth-card">
      <mat-card-header>
        <mat-card-title class="auth-title">
          <mat-icon class="app-icon">email</mat-icon>
          <span class="app-name">ECold</span>
        </mat-card-title>
        <mat-card-subtitle class="auth-subtitle">Create your account</mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
          <!-- Name Fields -->
          <div class="name-row">
            <mat-form-field appearance="outline" class="name-field">
              <mat-label>First Name</mat-label>
              <input matInput 
                     type="text" 
                     formControlName="firstName" 
                     placeholder="Enter your first name"
                     autocomplete="given-name">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="signupForm.get('firstName')?.hasError('required')">
                First name is required
              </mat-error>
              <mat-error *ngIf="signupForm.get('firstName')?.hasError('minlength')">
                First name must be at least 2 characters
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="name-field">
              <mat-label>Last Name</mat-label>
              <input matInput 
                     type="text" 
                     formControlName="lastName" 
                     placeholder="Enter your last name"
                     autocomplete="family-name">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="signupForm.get('lastName')?.hasError('required')">
                Last name is required
              </mat-error>
              <mat-error *ngIf="signupForm.get('lastName')?.hasError('minlength')">
                Last name must be at least 2 characters
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Email Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email Address</mat-label>
            <input matInput 
                   type="email" 
                   formControlName="email" 
                   placeholder="Enter your email address"
                   autocomplete="email">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="signupForm.get('email')?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="signupForm.get('email')?.hasError('email')">
              Please enter a valid email address
            </mat-error>
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Password</mat-label>
            <input matInput 
                   [type]="hidePassword ? 'password' : 'text'" 
                   formControlName="password" 
                   placeholder="Create a strong password"
                   autocomplete="new-password">
            <button type="button" 
                    mat-icon-button 
                    matSuffix 
                    (click)="hidePassword = !hidePassword" 
                    [attr.aria-label]="'Hide password'" 
                    [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="signupForm.get('password')?.hasError('required')">
              Password is required
            </mat-error>
            <mat-error *ngIf="signupForm.get('password')?.hasError('minlength')">
              Password must be at least 8 characters long
            </mat-error>
            <mat-error *ngIf="signupForm.get('password')?.hasError('passwordStrength')">
              <div class="password-requirements">
                <div class="requirement-title">Password must contain:</div>
                <ul class="requirements-list">
                  <li *ngFor="let requirement of getPasswordStrengthErrors()">{{ requirement }}</li>
                </ul>
              </div>
            </mat-error>
          </mat-form-field>

          <!-- Confirm Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Confirm Password</mat-label>
            <input matInput 
                   [type]="hideConfirmPassword ? 'password' : 'text'" 
                   formControlName="confirmPassword" 
                   placeholder="Confirm your password"
                   autocomplete="new-password">
            <button type="button" 
                    mat-icon-button 
                    matSuffix 
                    (click)="hideConfirmPassword = !hideConfirmPassword" 
                    [attr.aria-label]="'Hide password'" 
                    [attr.aria-pressed]="hideConfirmPassword">
              <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="signupForm.get('confirmPassword')?.hasError('required')">
              Please confirm your password
            </mat-error>
            <mat-error *ngIf="signupForm.hasError('passwordMismatch') && signupForm.get('confirmPassword')?.touched">
              Passwords do not match
            </mat-error>
          </mat-form-field>

          <!-- Terms and Conditions -->
          <div class="terms-section">
            <mat-checkbox formControlName="agreeToTerms" class="terms-checkbox">
              I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a>
            </mat-checkbox>
            <mat-error *ngIf="signupForm.get('agreeToTerms')?.hasError('required') && signupForm.get('agreeToTerms')?.touched">
              You must agree to the terms and conditions
            </mat-error>
          </div>

          <!-- Submit Button -->
          <button type="submit" 
                  mat-raised-button 
                  color="primary" 
                  class="signup-button full-width"
                  [disabled]="signupForm.invalid || isLoading">
            <mat-spinner *ngIf="isLoading" diameter="20" class="signup-spinner"></mat-spinner>
            <span *ngIf="!isLoading">Create Account</span>
            <span *ngIf="isLoading">Creating Account...</span>
          </button>

          <!-- Error Message -->
          <div *ngIf="errorMessage" class="error-message">
            <mat-error>
              <mat-icon>error</mat-icon>
              {{ errorMessage }}
            </mat-error>
          </div>
        </form>

        <!-- OAuth Options -->
        <div class="oauth-section">
          <div class="oauth-divider">
            <span>or sign up with</span>
          </div>
          
          <div class="oauth-buttons">
            <button type="button"
                    mat-stroked-button
                    class="oauth-button google-button"
                    (click)="signupWithGoogle()"
                    [disabled]="isLoading">
              <img src="assets/google-icon.svg" alt="Google" class="oauth-icon">
              <span>Sign up with Google</span>
            </button>
          </div>
        </div>
      </mat-card-content>
      
      <mat-card-actions class="card-actions">
        <div class="login-link">
          <span>Already have an account? </span>
          <button type="button" mat-button class="login-button" (click)="goToLogin()">Sign In</button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
  
  <div class="benefits-section">
    <div class="benefits-card">
      <h3>Why Choose ECold?</h3>
      <div class="benefits-list">
        <div class="benefit-item">
          <mat-icon>rocket_launch</mat-icon>
          <div class="benefit-content">
            <h4>Boost Your Career</h4>
            <p>Connect with top recruiters and land your dream job faster</p>
          </div>
        </div>
        <div class="benefit-item">
          <mat-icon>auto_awesome</mat-icon>
          <div class="benefit-content">
            <h4>Smart Automation</h4>
            <p>AI-powered email campaigns that get results</p>
          </div>
        </div>
        <div class="benefit-item">
          <mat-icon>analytics</mat-icon>
          <div class="benefit-content">
            <h4>Track Your Progress</h4>
            <p>Detailed analytics on your outreach performance</p>
          </div>
        </div>
        <div class="benefit-item">
          <mat-icon>security</mat-icon>
          <div class="benefit-content">
            <h4>Secure & Private</h4>
            <p>Your data is protected with enterprise-grade security</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>